# Code book for run_analysis

## About the Human Activity Recognition Using Smartphones Dataset

Complete information about the data can be found in the "UCI HAR Dataset" folder. In the data frame generated by run_analysis.R, you'll find for each volunteer and each activity a 53-feature vector containing averages over each variables containing means and standard deviations informations about the original measurements in the dataset.

- A 561-feature vector with time and frequency domain variables. 
- Its activity label. 
- An identifier of the subject who carried out the experiment.


## Loading Samsung sensor data

For efficiency, we'll use the dplyr package.

```{r}
library(dplyr)
```

The original dataset is separated in train and set sub datasets. We start
by loading this datasets, adding subjects and activities informations.

```{r}
names <- read.table("UCI HAR Dataset/features.txt")$V2

data_test <- tbl_df(read.table("UCI HAR Dataset/test/X_test.txt",
                    col.names = names))
subject_test <- read.table("UCI HAR Dataset/test/subject_test.txt")$V1
activity_test <- read.table("UCI HAR Dataset/test/y_test.txt")$V1
data_test <- mutate(data_test,
                    Subject = subject_test,
                    Activity = activity_test)

data_train <- read.table("UCI HAR Dataset/train/X_train.txt",
                         col.names = names)
subject_train <- read.table("UCI HAR Dataset/train/subject_train.txt")$V1
activity_train <- read.table("UCI HAR Dataset/train/y_train.txt")$V1
data_train <- mutate(data_train,
                     Subject = subject_train,
                     Activity = activity_train)
```
We continue by combining the two datasets and selecting the variables we are
interested about (means and standard deviations informations), putting first
the subjects id and labelling the activities properly.

```{r}
activity_labels <- read.table("UCI HAR Dataset/activity_labels.txt")
num2label <- function(x) activity_labels$V2[activity_labels$V1 == x]

activity <- tbl_df(merge(data_train, data_test, all = TRUE)) %>%
            select(Subject,
                   Activity,
                   tBodyAcc.mean...X:angle.Z.gravityMean.) %>%
            mutate(Activity = sapply(Activity, num2label)) %>%
            arrange(Subject) %>%
            select(Subject,
                   Activity,
                   contains("mean"),
                   contains("sd")) %>%
            group_by(Subject, Activity)

rm(names, activity_labels, num2label,
   subject_test,  activity_test,  data_test,
   subject_train, activity_train, data_train)
```

We end this work by averaging each variables by each subjects and each
activities, then printing it.

```{r}
activitySummary <- summarise(activity,
                             mean(tBodyAcc.mean...X),
                             mean(tBodyAcc.mean...Y),
                             mean(tBodyAcc.mean...Z),
                             mean(tGravityAcc.mean...X),
                             mean(tGravityAcc.mean...Y),
                             mean(tGravityAcc.mean...Z),
                             mean(tBodyAccJerk.mean...X),
                             mean(tBodyAccJerk.mean...Y),
                             mean(tBodyAccJerk.mean...Z),
                             mean(tBodyGyro.mean...X),
                             mean(tBodyGyro.mean...Y),
                             mean(tBodyGyro.mean...Z),
                             mean(tBodyGyroJerk.mean...X),
                             mean(tBodyGyroJerk.mean...Y),
                             mean(tBodyGyroJerk.mean...Z),
                             mean(tBodyAccMag.mean..),
                             mean(tGravityAccMag.mean..),
                             mean(tBodyAccJerkMag.mean..),
                             mean(tBodyGyroMag.mean..),
                             mean(tBodyGyroJerkMag.mean..),
                             mean(fBodyAcc.mean...X),
                             mean(fBodyAcc.mean...Y),
                             mean(fBodyAcc.mean...Z),
                             mean(fBodyAcc.meanFreq...X),
                             mean(fBodyAcc.meanFreq...Y),
                             mean(fBodyAcc.meanFreq...Z),
                             mean(fBodyAccJerk.mean...X),
                             mean(fBodyAccJerk.mean...Y),
                             mean(fBodyAccJerk.mean...Z),
                             mean(fBodyAccJerk.meanFreq...X),
                             mean(fBodyAccJerk.meanFreq...Y),
                             mean(fBodyAccJerk.meanFreq...Z),
                             mean(fBodyGyro.mean...X),
                             mean(fBodyGyro.mean...Y),
                             mean(fBodyGyro.mean...Z),
                             mean(fBodyGyro.meanFreq...X),
                             mean(fBodyGyro.meanFreq...Y),
                             mean(fBodyGyro.meanFreq...Z),
                             mean(fBodyAccMag.mean..),
                             mean(fBodyAccMag.meanFreq..),
                             mean(fBodyBodyAccJerkMag.mean..),
                             mean(fBodyBodyAccJerkMag.meanFreq..),
                             mean(fBodyBodyGyroMag.mean..),
                             mean(fBodyBodyGyroMag.meanFreq..),
                             mean(fBodyBodyGyroJerkMag.mean..),
                             mean(fBodyBodyGyroJerkMag.meanFreq..),
                             mean(angle.tBodyAccMean.gravity.),
                             mean(angle.tBodyAccJerkMean..gravityMean.),
                             mean(angle.tBodyGyroMean.gravityMean.),
                             mean(angle.tBodyGyroJerkMean.gravityMean.),
                             mean(angle.X.gravityMean.),
                             mean(angle.Y.gravityMean.),
                             mean(angle.Z.gravityMean.))

print(activitySummary)
```


## Descriptions of each variables


Here is a list of all the variables in the output data frame. Precise description of each variables (except the first two) can be found in the "features_info.txt" file in the dataset folder.

Subject : Subject id, from 1 to 30
Activity : activity done during the measurements averaged
mean(tBodyacc.mean...X) : Average over each subject and activity of the tBodyAcc mean   X variable from the Human Activity Recognition Using Smartphones Dataset
mean(tBodyAcc.mean...Y) : Average over each subject and activity of the tBodyAcc mean   Y variable from the Human Activity Recognition Using Smartphones Dataset
mean(tBodyAcc.mean...Z) : Average over each subject and activity of the tBodyAcc mean   Z variable from the Human Activity Recognition Using Smartphones Dataset
mean(tGravityAcc.mean...X) : Average over each subject and activity of the tGravityAcc mean   X variable from the Human Activity Recognition Using Smartphones Dataset
mean(tGravityAcc.mean...Y) : Average over each subject and activity of the tGravityAcc mean   Y variable from the Human Activity Recognition Using Smartphones Dataset
mean(tGravityAcc.mean...Z) : Average over each subject and activity of the tGravityAcc mean   Z variable from the Human Activity Recognition Using Smartphones Dataset
mean(tBodyAccJerk.mean...X) : Average over each subject and activity of the tBodyAccJerk mean   X variable from the Human Activity Recognition Using Smartphones Dataset
mean(tBodyAccJerk.mean...Y) : Average over each subject and activity of the tBodyAccJerk mean   Y variable from the Human Activity Recognition Using Smartphones Dataset
mean(tBodyAccJerk.mean...Z) : Average over each subject and activity of the tBodyAccJerk mean   Z variable from the Human Activity Recognition Using Smartphones Dataset
mean(tBodyGyro.mean...X) : Average over each subject and activity of the tBodyGyro mean   X variable from the Human Activity Recognition Using Smartphones Dataset
mean(tBodyGyro.mean...Y) : Average over each subject and activity of the tBodyGyro mean   Y variable from the Human Activity Recognition Using Smartphones Dataset
mean(tBodyGyro.mean...Z) : Average over each subject and activity of the tBodyGyro mean   Z variable from the Human Activity Recognition Using Smartphones Dataset
mean(tBodyGyroJerk.mean...X) : Average over each subject and activity of the tBodyGyroJerk mean   X variable from the Human Activity Recognition Using Smartphones Dataset
mean(tBodyGyroJerk.mean...Y) : Average over each subject and activity of the tBodyGyroJerk mean   Y variable from the Human Activity Recognition Using Smartphones Dataset
mean(tBodyGyroJerk.mean...Z) : Average over each subject and activity of the tBodyGyroJerk mean   Z variable from the Human Activity Recognition Using Smartphones Dataset
mean(tBodyAccMag.mean..) : Average over each subject and activity of the tBodyAccMag mean  variable  from the Human Activity Recognition Using Smartphones Dataset
mean(tGravityAccMag.mean..) : Average over each subject and activity of the tGravityAccMag mean  variable  from the Human Activity Recognition Using Smartphones Dataset
mean(tBodyAccJerkMag.mean..) : Average over each subject and activity of the tBodyAccJerkMag mean  variable  from the Human Activity Recognition Using Smartphones Dataset
mean(tBodyGyroMag.mean..) : Average over each subject and activity of the tBodyGyroMag mean  variable  from the Human Activity Recognition Using Smartphones Dataset
mean(tBodyGyroJerkMag.mean..) : Average over each subject and activity of the tBodyGyroJerkMag mean  variable  from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyAcc.mean...X) : Average over each subject and activity of the fBodyAcc mean   X variable from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyAcc.mean...Y) : Average over each subject and activity of the fBodyAcc mean   Y variable from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyAcc.mean...Z) : Average over each subject and activity of the fBodyAcc mean   Z variable from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyAcc.meanFreq...X) : Average over each subject and activity of the fBodyAcc meanFreq   X variable from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyAcc.meanFreq...Y) : Average over each subject and activity of the fBodyAcc meanFreq   Y variable from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyAcc.meanFreq...Z) : Average over each subject and activity of the fBodyAcc meanFreq   Z variable from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyAccJerk.mean...X) : Average over each subject and activity of the fBodyAccJerk mean   X variable from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyAccJerk.mean...Y) : Average over each subject and activity of the fBodyAccJerk mean   Y variable from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyAccJerk.mean...Z) : Average over each subject and activity of the fBodyAccJerk mean   Z variable from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyAccJerk.meanFreq...X) : Average over each subject and activity of the fBodyAccJerk meanFreq   X variable from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyAccJerk.meanFreq...Y) : Average over each subject and activity of the fBodyAccJerk meanFreq   Y variable from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyAccJerk.meanFreq...Z) : Average over each subject and activity of the fBodyAccJerk meanFreq   Z variable from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyGyro.mean...X) : Average over each subject and activity of the fBodyGyro mean   X variable from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyGyro.mean...Y) : Average over each subject and activity of the fBodyGyro mean   Y variable from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyGyro.mean...Z) : Average over each subject and activity of the fBodyGyro mean   Z variable from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyGyro.meanFreq...X) : Average over each subject and activity of the fBodyGyro meanFreq   X variable from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyGyro.meanFreq...Y) : Average over each subject and activity of the fBodyGyro meanFreq   Y variable from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyGyro.meanFreq...Z) : Average over each subject and activity of the fBodyGyro meanFreq   Z variable from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyAccMag.mean..) : Average over each subject and activity of the fBodyAccMag mean  variable  from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyAccMag.meanFreq..) : Average over each subject and activity of the fBodyAccMag meanFreq  variable  from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyBodyAccJerkMag.mean..) : Average over each subject and activity of the fBodyBodyAccJerkMag mean  variable  from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyBodyAccJerkMag.meanFreq..) : Average over each subject and activity of the fBodyBodyAccJerkMag meanFreq  variable  from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyBodyGyroMag.mean..) : Average over each subject and activity of the fBodyBodyGyroMag mean  variable  from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyBodyGyroMag.meanFreq..) : Average over each subject and activity of the fBodyBodyGyroMag meanFreq  variable  from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyBodyGyroJerkMag.mean..) : Average over each subject and activity of the fBodyBodyGyroJerkMag mean  variable  from the Human Activity Recognition Using Smartphones Dataset
mean(fBodyBodyGyroJerkMag.meanFreq..) : Average over each subject and activity of the fBodyBodyGyroJerkMag meanFreq  variable  from the Human Activity Recognition Using Smartphones Dataset
mean(angle.tBodyAccMean.gravity.) : Average over each subject and activity of the angle tBodyAccMean gravity variable  from the Human Activity Recognition Using Smartphones Dataset
mean(angle.tBodyAccJerkMean..gravityMean.) : Average over each subject and activity of the angle tBodyAccJerkMean  gravityMean variable  from the Human Activity Recognition Using Smartphones Dataset
mean(angle.tBodyGyroMean.gravityMean.) : Average over each subject and activity of the angle tBodyGyroMean gravityMean variable  from the Human Activity Recognition Using Smartphones Dataset
mean(angle.tBodyGyroJerkMean.gravityMean.) : Average over each subject and activity of the angle tBodyGyroJerkMean gravityMean variable  from the Human Activity Recognition Using Smartphones Dataset
mean(angle.X.gravityMean.) : Average over each subject and activity of the angle X gravityMean variable  from the Human Activity Recognition Using Smartphones Dataset
mean(angle.Y.gravityMean.) : Average over each subject and activity of the angle Y gravityMean variable  from the Human Activity Recognition Using Smartphones Dataset
mean(angle.Z.gravityMean.) : Average over each subject and activity of the angle Z gravityMean variable  from the Human Activity Recognition Using Smartphones Dataset
